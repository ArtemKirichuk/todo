<!-- (submit)="fnCreteTask()" -->
<form [formGroup]="oFormTask" class="form" >
    <h2 mat-dialog-title>Создание задачи</h2>
    <mat-dialog-content class="mat-typography">
        <!-- <h3>Develop across all platforms</h3> -->


        <mat-form-field class="example-form-field" appearance="fill">
            <mat-label for="name">Название задачи</mat-label>
            <input id="name" formControlName="name" type="text" matInput />
            
        </mat-form-field>

        <mat-form-field class="example-form-field" appearance="fill">
            <mat-label>Дата начала</mat-label>
            <input matInput [matDatepicker]="dateStartRef" (dateChange)="fnDateChange()" formControlName="dateStart">
            <!-- <mat-hint>DD/MM/YYYY</mat-hint> -->
            <mat-datepicker-toggle matSuffix [for]="dateStartRef"></mat-datepicker-toggle>
            <mat-datepicker #dateStartRef></mat-datepicker>
        </mat-form-field>
        <mat-form-field class="example-form-field" appearance="fill">
            <mat-label>Дата завершения</mat-label>
            <input matInput [matDatepicker]="dateEndRef" (dateChange)="fnDateChange()" formControlName="dateEnd">
            <!-- <mat-hint>DD/MM/YYYY</mat-hint> -->
            <mat-datepicker-toggle matSuffix [for]="dateEndRef"></mat-datepicker-toggle>
            <mat-datepicker #dateEndRef></mat-datepicker>
            <mat-error *ngIf="dateEnd.errors?.['errorDate']">Дата завершения меньше даты начала.</mat-error>
        </mat-form-field>
        <mat-form-field class="example-form-field" appearance="fill">
            <mat-label for="priority">Приоритет</mat-label>
            <input id="priority" type="number" formControlName="priority" matInput />
        </mat-form-field>
        <mat-form-field class="example-form-field" appearance="fill">
            <mat-label for="category">Категория</mat-label>
            <input id="category" formControlName="category" matInput />
        </mat-form-field>



    </mat-dialog-content>
    <mat-dialog-actions align="end">
        <button mat-button mat-dialog-close>Отмена</button>
        <button mat-button *ngIf="bCreate"  [disabled]="!oFormTask.valid" [mat-dialog-close]="oFormTask.value" >Создать</button>
        <button mat-button *ngIf="!bCreate" [disabled]="!oFormTask.valid" mat-dialog-close (click)="fnSaveRow()">Сохранить</button>
    </mat-dialog-actions>
</form>